"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1951],{84947:function(e,n,t){t.d(n,{H4:function(){return v}});var r,i,a,o,s,l,c=t(73235),d=t(10081),u=t(81964);function g(){let e=(0,c._)(["\n  mutation SendCertificateByEmail(\n    $id: String!\n    $language: Language\n    $theme: Theme\n  ) {\n    sendCertificateByEmail(id: $id, language: $language, theme: $theme)\n  }\n"]);return g=function(){return e},e}function m(){let e=(0,c._)(["\n  query CertificateByCourse($id: String!, $language: Language, $theme: Theme) {\n    certificateByCourse(id: $id, language: $language, theme: $theme) {\n      id\n      title\n      theme\n      language\n      template\n      createdAt\n    }\n  }\n"]);return m=function(){return e},e}function h(){let e=(0,c._)(["\n  query CertificateIssuerByCourse($identifier: String!) {\n    certificateIssuerByCourse(identifier: $identifier) {\n      id\n      emittedAt\n      graduateName\n      courseStartedAt\n      courseCompletedAt\n      course {\n        durationInHours\n      }\n    }\n  }\n"]);return h=function(){return e},e}function p(){let e=(0,c._)(["\n  query CertificateIssuersByAtlasUserId(\n    $product: Product\n    $offset: Int\n    $limit: Int\n  ) {\n    certificateIssuersByAtlasUserId(\n      product: $product\n      offset: $offset\n      limit: $limit\n    ) {\n      nodes {\n        id\n        emittedAt\n        course {\n          id\n          title\n          logoUrl\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}let x={};(r=o||(o={})).En="EN",r.PtBr="PT_BR",(i=s||(s={})).Discover="DISCOVER",i.Event="EVENT",i.Explorer="EXPLORER",i.Gostack="GOSTACK",i.Ignite="IGNITE",i.Launchbase="LAUNCHBASE",(a=l||(l={})).Dark="DARK",a.Light="LIGHT",(0,d.Ps)(g()),(0,d.Ps)(m());let f=(0,d.Ps)(h());function v(e){let n={...x,...e};return u.a(f,n)}(0,d.Ps)(p())},72900:function(e,n,t){t.d(n,{HL:function(){return l},oL:function(){return c}});var r=t(52322),i=t(5632),a=t(48576),o=t(81964),s=t(73902);let l={getServerPage:async function(e,n){var t,r;let i=(0,a.WQ)(n),o=await i.query({...e,query:s.CT});return{props:{apolloState:i.cache.extract(),data:null==o?void 0:o.data,error:null!==(r=null!==(t=null==o?void 0:o.error)&&void 0!==t?t:null==o?void 0:o.errors)&&void 0!==r?r:null}}},withPage:e=>n=>t=>{let a=(0,i.useRouter)(),l=e?e(a):{},{data:c,error:d}=(0,o.a)(s.CT,l);return(0,r.jsx)(n,{...t,data:c,error:d})},usePage:e=>{let n=(0,i.useRouter)(),t=e?e(n):{};return(0,o.a)(s.CT,t)}},c={getServerPage:async function(e,n){var t,r;let i=(0,a.WQ)(n),o=await i.query({...e,query:s.kT});return{props:{apolloState:i.cache.extract(),data:null==o?void 0:o.data,error:null!==(r=null!==(t=null==o?void 0:o.error)&&void 0!==t?t:null==o?void 0:o.errors)&&void 0!==r?r:null}}},withPage:e=>n=>t=>{let a=(0,i.useRouter)(),l=e?e(a):{},{data:c,error:d}=(0,o.a)(s.kT,l);return(0,r.jsx)(n,{...t,data:c,error:d})},usePage:e=>{let n=(0,i.useRouter)(),t=e?e(n):{};return(0,o.a)(s.kT,t)}}},49835:function(e,n,t){t.d(n,{J:function(){return S}});var r=t(52322),i=t(2784),a=t(78980),o=t(2374),s=t(5632),l=t(9770),c=t(60155),d=t(12906),u=t(15150),g=t(39368),m=t(39366);let h=(0,m.zo)(a.xu,{display:"flex",alignItems:"center",gap:"$1",padding:"$4 $8 $4 $4",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)",h2:{marginTop:"0"},"@mobile":{padding:"$5 $2",fontSizez:"$xl"},"@media (max-width: 320px)":{padding:"$4 $2"}}),p=(0,m.zo)(a.xu,{display:"flex",gap:"$3",margin:"$8 0",maxWidth:"fit-content","input:focus-within":{borderColor:"$discover-mid"},"@mobile":{gap:"$2"},"@media (max-width: 320px)":{gap:"$1"}}),x=Array(6).fill(""),f=e=>{let{phoneNumber:n,goBack:t}=e,[o,m]=(0,i.useState)(x),[f,v]=(0,i.useState)("initial"),[$,y]=(0,i.useState)(""),C=(0,s.useRouter)(),{certificate:b}=(0,d.m)(),{handleGetCertificate:j}=(0,u.C)(),[k,{start:I}]=(0,l.Z)(59e3),T=k>0,w=(0,i.useRef)(x.map(()=>(0,i.createRef)())),P=null==o?void 0:o.some(e=>!!e),z="loading"===f;(0,i.useEffect)(()=>{let e=null==w?void 0:w.current[0].current;P||null==e||e.focus()},[P]),(0,i.useEffect)(()=>{I()},[I]);let E=(0,i.useCallback)(async e=>{v("loading");try{await g.T.get("/is-correct-code/".concat(e)).then(()=>{if(null==b?void 0:b.id){C.push("/account/certificates?course=discover");return}j(),C.push("/account/certificates?course=discover")})}catch(n){let{response:e}=n;y("C\xf3digo inv\xe1lido, tente novamente"),v("initial")}},[null==b?void 0:b.id,j,C]),S=(0,i.useCallback)(async()=>{m(x),v("loading");try{await g.T.post("/send-verify-code",{phone:n}),I(),v("sent"),y("")}catch(n){let{response:e}=n;y("N\xe3o foi poss\xedvel enviar um c\xf3digo, por favor tente novamente")}finally{setTimeout(()=>v("initial"),2e3)}},[n,I]),R=(0,i.useCallback)(e=>{e.preventDefault();let n=e.clipboardData.getData("text/plain");m(n.replaceAll("-","").split("")),E(n)},[E]),A=(0,i.useCallback)((e,n)=>{let t=n.target.value,r=""===t;if(m([...o.slice(0,e),t,...o.slice(e+1)]),r&&e>0){let n=null==w?void 0:w.current[e-1].current;null==n||n.focus();return}if(5!==e&&!r){let n=null==w?void 0:w.current[e+1].current;null==n||n.focus();return}5!==e||r||E((null==o?void 0:o.join(""))+t)},[o,E]),B=(0,i.useCallback)((e,n)=>{let t=n.target;if(("Backspace"===n.key||"Delete"===n.key)&&""===t.value&&e>0){n.preventDefault();let t=null==w?void 0:w.current[e-1].current;null==t||t.focus()}},[w]);return(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(h,{children:[(0,r.jsx)(a.hU,{variant:"tertiary",icon:(0,r.jsx)(c.dUf,{size:24}),onClick:t}),(0,r.jsx)(a.X6,{children:"C\xf3digo de verifica\xe7\xe3o"})]}),(0,r.jsxs)(a.aY,{css:{"@mobile":{padding:"$6 $6 $8"}},children:[(0,r.jsxs)(a.xu,{children:[(0,r.jsxs)(a.xv,{children:["Informe o c\xf3digo enviado para ",(0,r.jsx)("strong",{children:n})]}),(0,r.jsxs)(p,{children:[z&&(0,r.jsx)(a.$j,{}),"sent"===f&&(0,r.jsxs)(a.xv,{css:{gap:"$2",display:"flex",alignItems:"center",color:"$discover-light"},children:["Enviado",(0,r.jsx)(c.GcF,{size:24,color:"#6A80FF"})]}),"initial"===f&&o.map((e,n)=>(0,r.jsx)(a.nv,{ref:w.current[n],maxLength:1,value:e,onPaste:R,onChange:e=>A(n,e),onKeyDown:e=>B(n,e),css:{width:"$12",height:"4.5rem",fontSize:"$2xl","@mobile":{padding:"$6 0.625rem",width:"2.313rem",height:"3.5rem"},"@media (max-width: 320px)":{maxWidth:"2rem",height:"$12",fontSize:"$lg",padding:"$6 $2"}}},"".concat(e,"-").concat(n)))]}),$&&!z&&(0,r.jsxs)(a.xv,{size:"sm",css:{gap:"$1",display:"flex",marginTop:"-$4",marginBottom:"$4",alignItems:"center",color:"$danger-light"},children:[(0,r.jsx)(c.lEC,{size:20}),$]})]}),(0,r.jsxs)(a.xu,{css:{display:"flex",gap:"$4",alignItems:"center"},children:[(0,r.jsx)(a.Qj,{href:void 0,disabled:T,onClick:S,css:{justifyContent:"start",color:"$discover-light"},children:"Enviar novamente"}),T&&!z&&(0,r.jsx)(a.xv,{size:"sm",css:{marginTop:0,color:"$grey-300"},children:"Aguarde 1 minuto"})]})]})]})};t(32703);var v=t(23314);let $=(0,m.zo)(a.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),y=(0,m.zo)(a.aY,{display:"flex",flexDirection:"column",gap:"$8",p:{marginTop:"0"},".PhoneInput":{borderRadius:"$sm",alignItems:"center",border:"2px solid transparent"},".PhoneInput--focus":{borderColor:"$discover-mid"},".PhoneInputCountry":{margin:"0",padding:"$3",height:"3rem",background:"$grey-900",borderRadius:"$sm 0 0 $sm","&::after":{content:"",width:"1.5px",height:"$8",marginLeft:"$3",background:"$grey-600"}},".PhoneInputInput":{padding:"$3 $3 $3 0",border:"none",height:"3rem",borderRadius:"0 $sm $sm 0","&::placeholder":{color:"$grey-300"}},".PhoneInputCountryIcon":{width:"$8",height:"$6",marginRight:"$2",borderRadius:"2px",display:"flex",alignItems:"center"},".PhoneInputCountryIconImg":{maxWidth:"$8",maxHeight:"$6",objectFit:"cover",borderRadius:"2px"},".PhoneInputCountrySelectArrow":{opacity:1,width:"8px",height:"8px",borderColor:"$grey-200",borderRightWidth:"1.5px",borderBottomWidth:"1.5px"}}),C=e=>{let{phoneValue:n,handleContinueChecking:t,onChangePhoneValue:s}=e,[l,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(""),h=(0,v.a)("(max-width: 768px)"),p=n&&(0,o.tm)(n),x=(0,i.useCallback)(async()=>{d(!0);try{await g.T.post("/send-verify-code",{phone:n}),t()}catch(n){let{response:e}=n;m("N\xe3o foi poss\xedvel enviar um c\xf3digo, por favor tente novamente")}finally{d(!1)}},[t,n]);return(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)($,{children:(0,r.jsx)(a.X6,{children:"Verifique seu n\xfamero"})}),(0,r.jsxs)(y,{children:[(0,r.jsx)(a.xv,{children:"Para emitir o certificado, vamos verificar sua identidade"}),(0,r.jsxs)(a.xu,{css:{gap:"$2",display:"flex",flexDirection:"column"},children:[(0,r.jsx)(a.xv,{children:"Digite seu n\xfamero de telefone vinculado ao Whatsapp"}),(0,r.jsx)(o.ZP,{international:!0,value:n,defaultCountry:"BR",limitMaxLength:!0,placeholder:"Digite seu telefone",countryCallingCodeEditable:!1,onChange:s}),u&&(0,r.jsxs)(a.xv,{size:"sm",css:{gap:"$1",display:"flex",marginTop:"$4",alignItems:"center",color:"$danger-light"},children:[(0,r.jsx)(c.lEC,{size:20}),u]})]}),(0,r.jsx)(a.xv,{css:{color:"$grey-300"},children:"Ao continuar, voc\xea concorda em receber comunica\xe7\xf5es da Rocketseat."}),(0,r.jsx)(a.zx,{full:h,onClick:x,disabled:!p,css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"},marginTop:"$6",alignSelf:"flex-end",maxWidth:"fit-content","@mobile":{maxWidth:"100%"}},children:l?(0,r.jsx)(a.$j,{}):"Continuar"})]})]})};var b=t(2788),j=t(38421),k=t.n(j),I=t(6655),T=t(41982);let w=(0,m.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",padding:"2rem 1rem 1rem 1rem"}),P=()=>{let e={particleCount:120,spread:70,scalar:1.2,zIndex:9999999999};(0,b.Z)({origin:{x:0,y:-.1},angle:-50,...e}),(0,b.Z)({origin:{x:1,y:-.1},angle:-130,...e})},z=()=>{(0,b.Z)({particleCount:100,spread:60,zIndex:9999999999,origin:{x:.5,y:.4}})},E=e=>{let{visible:n,trailTitle:t,trailImage:o,onCancel:l,onConfirm:g}=e,m=(0,s.useRouter)(),{user:{isVerifiedPhone:h}}=(0,T.aC)(),{certificate:p}=(0,d.m)(),{handleGetCertificate:x}=(0,u.C)(),f=(0,i.useCallback)(()=>{if(null==p?void 0:p.id){m.push("/account/certificates?course=discover");return}if(h){x(),m.push("/account/certificates?course=discover");return}I.H.track("Certificate emission"),g()},[null==p?void 0:p.id,x,h,g,m]);return(0,i.useEffect)(()=>{n&&setTimeout(()=>{window.matchMedia("(max-width: 768px)").matches?z():P()},300)},[n]),(0,r.jsxs)(w,{css:{marginTop:"-58px",paddingTop:0,"@mobile":{marginTop:"-40px"}},children:[(0,r.jsx)(a.hU,{icon:(0,r.jsx)(c.bjh,{size:24}),variant:"secondary",onClick:()=>{b.Z.reset(),l()},css:{position:"absolute",right:10,top:10}}),(0,r.jsx)(a.xu,{css:{position:"relative",width:116,height:116,"@mobile":{width:80,height:80}},children:(0,r.jsx)(k(),{src:o,alt:"Course Icon",layout:"fill"})}),(0,r.jsxs)(a.X6,{size:{"@initial":"md","@mobile":"sm"},css:{marginTop:"$10"},children:["Voc\xea concluiu o ",t,"!"]}),(0,r.jsx)(a.xv,{size:{"@initial":"lg","@mobile":"sm"},css:{margin:"$8 0 $12",maxWidth:"25rem","@mobile":{margin:"$6 0"}},children:"Parab\xe9ns! Agora voc\xea pode emitir seu certificado e partir para o pr\xf3ximo n\xedvel da programa\xe7\xe3o."}),(0,r.jsx)(a.nK,{divider:!1,align:"center",children:(0,r.jsx)(a.zx,{onClick:f,css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},children:"Emitir certificado"})})]})},S=e=>{let{visible:n,onCancel:t,trailTitle:s,trailImage:l}=e,[c,d]=(0,i.useState)(1),[u,g]=(0,i.useState)(""),m=(0,o.ne)(u),h=(0,i.useCallback)(()=>{if(1===c){d(2);return}d(3)},[c]),p=(0,i.useCallback)(()=>d(2),[]),x=(0,i.useMemo)(()=>{switch(c){case 1:default:return(0,r.jsx)(E,{visible:n,trailImage:l,trailTitle:s,onCancel:t,onConfirm:h});case 2:return(0,r.jsx)(C,{phoneValue:u,onChangePhoneValue:g,handleContinueChecking:h});case 3:return(0,r.jsx)(f,{phoneNumber:m,goBack:p})}},[c,n,t,s,l,u,p,h,m]);return(0,r.jsx)(a.u_,{open:n,onOpenChange:t,children:(0,r.jsx)(a.AB,{maintainDimensions:!0,css:{overflow:"visible",maxWidth:"30.5rem"},children:x})})}},39368:function(e,n,t){t.d(n,{T:function(){return o}});var r=t(89644),i=t.n(r);let a=(0,t(68344).parseCookies)(),o=i().create({baseURL:"".concat("https://whats-code-verify-q5dqydyod-rocketseat.vercel.app/api"),headers:{Authorization:"Bearer ".concat(a.skylab_next_access_token_v3)}})}}]);